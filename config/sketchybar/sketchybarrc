PLUGIN_DIR="$HOME/.config/sketchybar/plugins"

# Theme
export COLOR_BAR=0xff1f2335 
export COLOR_WHITE=0xffffffff
export PADDING_ITEM=5

# Appearance
sketchybar --bar display=main \
                 height=38 \
                 padding_left=5 \
                 padding_right=5 \
                 blur_radius=0  \
                 color=$COLOR_BAR
                 

# Defaults
sketchybar --default label.font="JetBrainsMono Nerd Font:Regular:14.0" \
  icon.font="sketchybar-app-font:Regular:14.0"  \
  icon.color=$COLOR_WHITE \
  label.color=$COLOR_WHITE \
  padding_left=$PADDING_ITEM \
  padding_right=$PADDING_ITEM \
  label.padding_left=2 \
  label.padding_right=2 \
  icon.padding_left=2 \
  icon.padding_right=2

# bracket

# aerospace
sketchybar --add event aerospace_workspace_change

for SID in $(aerospace list-workspaces --all); do
  sketchybar --add item space.$SID left \
      --subscribe space.$SID aerospace_workspace_change \
      --set space.$SID \
      icon.font="JetBrainsMono Nerd Font:Regular:14.0" \
      label.font="sketchybar-app-font:Regular:14.0"  \
      background.height=20 \
      background.color=0x44ffcccc \
      background.corner_radius=4 \
      icon="$SID" \
      label.padding_left=8 \
      label.padding_right=8 \
      click_script="aerospace workspace $SID" \
      script="$PLUGIN_DIR/aerospace.sh $SID"
done

### RIGHT ###

sketchybar --add item clock right \
  --set clock update_freq=10 script="$PLUGIN_DIR/clock.sh" updates=on

sketchybar --add item media right \
  --set media script="$PLUGIN_DIR/music.sh" \
  --subscribe media media_change


##### Adding Left Items #####
# We add some regular items to the left side of the bar
# only the properties deviating from the current defaults need to be set

# sketchybar --add item space_separator left                         \
#            --set space_separator icon=                            \
#                                  padding_left=10                   \
#                                  padding_right=10                  \
#                                  label.drawing=off                 \
#                                                                    \
#            --add item front_app left                               \
#            --set front_app       script="$PLUGIN_DIR/front_app.sh" \
#                                  icon.drawing=off                  \
#            --subscribe front_app front_app_switched


# Some items refresh on a fixed cycle, e.g. the clock runs its script once
# every 10s. Other items respond to events they subscribe to, e.g. the
# volume.sh script is only executed once an actual change in system audio
# volume is registered. More info about the event system can be found here:
# https://felixkratz.github.io/SketchyBar/config/events



                                                               
#  sketchybar --add item wifi right                               \
#  --set wifi    script="$PLUGIN_DIR/wifi.sh"          \
#                icon=直                               \
#  --subscribe wifi wifi_change                        \
#                                                      \
#  --add item volume right                             \
#  --set volume  script="$PLUGIN_DIR/volume.sh"        \
#  --subscribe volume volume_change                    \
#                                                      \
#  --add item battery right                            \
#  --set battery script="$PLUGIN_DIR/battery.sh"       \
#                update_freq=120                       \
#  --subscribe battery system_woke power_source_change



#### Finalizing Setup #####
# The below command is only needed at the end of the initial configuration to
# force all scripts to run the first time, it should never be run in an item script.

sketchybar --update
